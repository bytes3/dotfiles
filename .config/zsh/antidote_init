source '/usr/share/zsh-antidote/antidote.zsh'

# Set the name of the static .zsh plugins file antidote will generate.
zsh_plugins=$ZDOTDIR/.zsh_plugins.zsh

# Generate static file in a subshell when zsh_plugins.txt is updated.
if [[ ! $zsh_plugins -nt ${zsh_plugins:r}.txt ]]; then
  (antidote bundle <${zsh_plugins:r}.txt >|$zsh_plugins)
fi

# Source your static plugins file.
source $zsh_plugins

# initialize plugins statically with $ZSH_CONFIG_DIR/.zsh_plugins.txt
antidote load
